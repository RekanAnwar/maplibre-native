jdk:
  - openjdk17

install:
  - export ANDROID_SDK_ROOT=/opt/android-sdk-linux
  - yes | ${ANDROID_SDK_ROOT}/cmdline-tools/latest/bin/sdkmanager --sdk_root=${ANDROID_SDK_ROOT} "cmake;4.1.1" "platforms;android-34" "build-tools;34.0.0" "platform-tools"
  - export PATH="${ANDROID_SDK_ROOT}/cmake/4.1.1/bin:${PATH}"
  - echo "=== CMake debug info ==="
  - which cmake
  - cmake --version
  - ls -la ${ANDROID_SDK_ROOT}/cmake/
  - echo "PATH=$PATH"
  - echo "========================"
  - cd platform/android && ./gradlew -Pmaplibre.abis=arm64-v8a -Dcmake.dir=${ANDROID_SDK_ROOT}/cmake/4.1.1 :MapLibreAndroid:assembleOpenglRelease

